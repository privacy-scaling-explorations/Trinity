<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Introduction - trinity-doc</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
            window.path_to_searchindex_js = "searchindex.js";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="toc.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>‚Üê</kbd> or <kbd>‚Üí</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
                sidebar_toggle.checked = false;
            }
            if (sidebar === 'visible') {
                sidebar_toggle.checked = true;
            } else {
                html.classList.remove('sidebar-visible');
            }
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">trinity-doc</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <div class="search-wrapper">
                            <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                            <div class="spinner-wrapper">
                                <i class="fa fa-spinner fa-spin"></i>
                            </div>
                        </div>
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="introduction-to-trinity"><a class="header" href="#introduction-to-trinity">Introduction to Trinity</a></h1>
<p><img src="./images/trinity_banner.png" alt="MP-FHE" /></p>
<h2 id="what-is-trinity"><a class="header" href="#what-is-trinity">What is Trinity?</a></h2>
<p>Trinity is a two-party computation (2PC) protocol designed to minimize interaction rounds, enable input verifiability, and facilitate reusability. It combines three key cryptographic concepts:</p>
<ul>
<li>Extractable Witness Encryption, powering Laconic Oblivious Transfer (LOT).</li>
<li>Garbled Circuits.</li>
<li>PLONK for verifiable inputs.</li>
</ul>
<p>The core mechanism unifying these concepts is the KZG polynomial commitment scheme. Trinity offers a novel approach to handling user data by placing data objects at the center of computation. Users can commit to structured data (e.g., dictionaries), generate verifiable proofs about their contents, and privately interact with other parties.</p>
<p>The main goal of Trinity is to shift the perspective on zero-knowledge proofs (ZKPs) beyond simple gate computations, enabling them instead to serve as verified private inputs within secure 2PC interactions.</p>
<h2 id="how-is-trinity-different-from-other-approaches"><a class="header" href="#how-is-trinity-different-from-other-approaches">How Is Trinity Different From Other Approaches?</a></h2>
<p>Let‚Äôs assume Alice and Bob each hold a private input (<code>a</code>, <code>b</code>) and want to compute <code>f(a, b)</code> without revealing anything to each other. There are several cryptographic ways to achieve this, each with different trade-offs:</p>
<h3 id="1-multiparty-fhe-fully-homomorphic-encryption"><a class="header" href="#1-multiparty-fhe-fully-homomorphic-encryption">1. <strong>Multiparty FHE (Fully Homomorphic Encryption)</strong></a></h3>
<p>FHE enables computing arbitrary functions on encrypted inputs. With multiparty FHE, each party encrypts their inputs under a joint key, and computation happens homomorphically.</p>
<p><img src="./images/MP-FHE.png" alt="MP-FHE" /></p>
<ul>
<li><strong>Pros</strong>:
<ul>
<li>Minimal interaction.</li>
<li>Can delegate computation to untrusted servers.</li>
</ul>
</li>
<li><strong>Cons</strong>:
<ul>
<li>High computational cost, even for simple functions.</li>
<li>Still impractical for most real-time use cases.</li>
<li>Complex key management across parties.</li>
</ul>
</li>
</ul>
<blockquote>
<p><em>Good fit when clients are weak and untrusted computation is offloaded to powerful servers (e.g., dark pools, PSI).</em></p>
</blockquote>
<hr />
<h3 id="2-secret-sharing-based-mpc"><a class="header" href="#2-secret-sharing-based-mpc">2. <strong>Secret Sharing-based MPC</strong></a></h3>
<p>Each party splits their input into shares and distributes them across multiple computation nodes. The function <code>f</code> is then evaluated collaboratively over the shares.</p>
<ul>
<li><strong>Pros</strong>:
<ul>
<li>Efficient for many inputs and functions.</li>
<li>Mature tooling.</li>
</ul>
</li>
<li><strong>Cons</strong>:
<ul>
<li>Requires high liveness and low latency between nodes.</li>
<li>Expensive in bandwidth and synchronization.</li>
<li>Hard to scale in high-latency environments.</li>
</ul>
</li>
</ul>
<blockquote>
<p><em>Great when you control your infrastructure or have low-latency assumptions (e.g., private statistics, secure ML inference).</em></p>
</blockquote>
<hr />
<h3 id="3-garbled-circuits-with-classical-ot"><a class="header" href="#3-garbled-circuits-with-classical-ot">3. <strong>Garbled Circuits with Classical OT</strong></a></h3>
<p>In classical 2PC using GC, one party (the <em>garbler</em>) encrypts the circuit, and the other (the <em>evaluator</em>) receives encrypted wire values via <strong>Oblivious Transfer</strong> (OT). It's a well-established approach with strong security guarantees under semi-honest or malicious models.</p>
<p><img src="./images/Trad-GC.png" alt="Trad-GC" /></p>
<ul>
<li><strong>Pros</strong>:
<ul>
<li>Mature cryptographic primitive.</li>
<li>Supports arbitrary functions.</li>
<li>Non-interactive once the circuit is garbled and inputs are transferred.</li>
</ul>
</li>
<li><strong>Cons</strong>:
<ul>
<li>No built-in verifiability of inputs ‚Äî relies on trusted setup or assumptions.</li>
<li>Cannot reuse or prove input commitments across sessions.</li>
</ul>
</li>
</ul>
<blockquote>
<p><em>Good for basic 2PC with moderate setup cost when parties are trusted to follow protocol but don‚Äôt want to reveal inputs.</em></p>
</blockquote>
<hr />
<h3 id="4-trinity-laconic-ot--gc--zk-inputs"><a class="header" href="#4-trinity-laconic-ot--gc--zk-inputs">4. <strong>Trinity: Laconic OT + GC + ZK Inputs</strong></a></h3>
<p>Trinity enables two parties to compute a function using garbled circuits ‚Äî with a twist:</p>
<ul>
<li><strong>Inputs are committed with KZG</strong>.</li>
<li><strong>Verifiability is added via ZK (PLONK)</strong>.</li>
<li><strong>Oblivious Transfer is optimized using Extractable Witness Encryption</strong>.</li>
</ul>
<p><img src="./images/Trinity.png" alt="Trinity" /></p>
<ul>
<li><strong>Pros</strong>:
<ul>
<li>Input integrity is provable.</li>
<li>Few interaction rounds (Laconic OT).</li>
<li>No need to trust delegated infrastructure.</li>
<li>Input commitment is reusable.</li>
</ul>
</li>
<li><strong>Cons</strong>:
<ul>
<li>Limited to 2PC.</li>
<li>Verifiability with Halo2 PLONK is costly.</li>
</ul>
</li>
</ul>
<blockquote>
<p><em>Ideal for verified 2PC in low-trust environments where inputs need to be reused or proven (e.g., self-attested data proofs, benchmarking, private voting).</em></p>
</blockquote>
<hr />
<h3 id="-comparison-table"><a class="header" href="#-comparison-table">üìä Comparison Table</a></h3>
<div class="table-wrapper"><table><thead><tr><th>Approach</th><th>Trust Model</th><th>Interaction Rounds</th><th>Computation Cost</th><th>Bandwidth</th><th>Input Verifiability</th><th>Best For</th></tr></thead><tbody>
<tr><td><strong>FHE</strong></td><td>Untrusted server</td><td>Low</td><td>üö® High</td><td>Low</td><td>‚ùå</td><td>Offloaded compute</td></tr>
<tr><td><strong>Secret Sharing MPC</strong></td><td>Honest majority</td><td>High</td><td>Moderate</td><td>High</td><td>‚ùå</td><td>Server-side compute</td></tr>
<tr><td><strong>GC + Classical OT</strong></td><td>No delegation, Semi-honest</td><td>Moderate</td><td>Moderate</td><td>Moderate</td><td>‚ùå</td><td>Generic 2PC</td></tr>
<tr><td><strong>Trinity (GC + LOT + ZK)</strong></td><td>No delegation, Semi-honest (+ZK)</td><td>üîÅ Few</td><td>Low‚ÄìModerate</td><td>Low</td><td>‚úÖ (PLONK)</td><td>Verified 2PC, reusable inputs</td></tr>
</tbody></table>
</div>
<h2 id="-applications-and-use-cases"><a class="header" href="#-applications-and-use-cases">üß© Applications and Use Cases</a></h2>
<p>Trinity is built for use cases that <strong>don‚Äôt require liveness</strong> ‚Äî meaning participants can interact <strong>asynchronously</strong>, without being online at the same time. It‚Äôs ideal for <strong>private matching</strong>, <strong>selective interactions</strong>, and <strong>verifiable decision logic</strong> over user data.</p>
<p>At its core, Trinity allows a user to:</p>
<ul>
<li>Commit to a <strong>bitstring</strong> representing their private input (e.g., encoded attributes, preferences, or selections),</li>
<li>Prove the <strong>validity of this input</strong> via a zero-knowledge proof (e.g., PLONK),</li>
<li>Publish the commitment and proof (e.g., on-chain or off-chain),</li>
<li>Allow others to interact by garbling a circuit with their own private inputs and returning it for evaluation.</li>
</ul>
<h3 id="-use-case-provable-listings--private-bidding-the-weeknd-concert-ticket"><a class="header" href="#-use-case-provable-listings--private-bidding-the-weeknd-concert-ticket">üõí <strong>Use Case: Provable Listings &amp; Private Bidding (The Weeknd Concert Ticket)</strong></a></h3>
<p>Imagine a user wants to resell a concert ticket. Here's how Trinity could support a privacy-preserving, verifiable flow:</p>
<ol>
<li>
<p><strong>Ownership Proof</strong><br />
The seller generates a ZK proof of ticket ownership using, for example, a ZKEmail circuit verified via Halo2.</p>
</li>
<li>
<p><strong>Price Encoding and Commitment</strong><br />
They encode their desired price range (e.g., 100‚Äì150 USD) as a bitstring input to a 2PC Boolean circuit, and commit to it in the same Halo2 circuit as above.</p>
</li>
<li>
<p><strong>Public Posting</strong><br />
The ZK proof containing the KZG commitmentare is posted (e.g., on a smart contract or IPFS), making the listing publicly visible but still private in terms of content.</p>
</li>
<li>
<p><strong>Private Offer Submission</strong><br />
A buyer retrieves the public circuit, garbles it with their own price offer (also as a bitstring), and sends the garbled circuit back.</p>
</li>
<li>
<p><strong>Secure Evaluation</strong><br />
The seller evaluates the garbled circuit to check whether the offer matches their private range, learning only whether it is acceptable ‚Äî not the exact bid.</p>
</li>
</ol>
<blockquote>
<p>This enables <strong>sealed-bid auctions</strong>, <strong>private marketplaces</strong>, or <strong>anonymous deal matching</strong>, while retaining cryptographic integrity.</p>
</blockquote>
<hr />
<h3 id="-additional-scenarios"><a class="header" href="#-additional-scenarios">üéÆ Additional Scenarios</a></h3>
<ul>
<li>
<p><strong>ZK Social Discovery</strong>:<br />
Users encode and commit to private attributes (e.g., age &gt; 18 through anon-aadhaar or self.xyz, shared interest tags), and interact via circuits that match compatible criteria without revealing exact values.</p>
</li>
<li>
<p><strong>Private Gameplay</strong>:<br />
In games involving secret strategies (e.g., card games, bluff mechanics), players commit to private state and verify interactions using 2PC.</p>
</li>
<li>
<p><strong>Credential Matching</strong>:<br />
In employment or dating contexts, participants encode structured claims (e.g., degrees, preferences, income ranges) and privately compute matches.</p>
</li>
</ul>
<h2 id="structure-of-this-documentation"><a class="header" href="#structure-of-this-documentation">Structure of this Documentation</a></h2>
<ul>
<li><strong><a href="./laconic_ot.html">Laconic Oblivious Transfer</a></strong>: Learn about the efficient OT protocol used in Trinity.</li>
<li><strong><a href="./gc_lot.html">Garbled Circuits and Laconic OT</a></strong>: Understand how garbled circuits are combined with LOT.</li>
<li><strong><a href="./zk_input_commit.html">ZK Input Verification with PLONK/KZG</a></strong>: Explore how inputs are made verifiable using ZK proofs.</li>
</ul>
<h2 id="target-audience"><a class="header" href="#target-audience">Target Audience</a></h2>
<p>This documentation is tailored for cryptographers, developers, and researchers seeking to leverage Trinity‚Äôs advanced cryptographic techniques for secure, verifiable, and private two-party computation.</p>
<h2 id="acknowledgments"><a class="header" href="#acknowledgments">Acknowledgments</a></h2>
<p>We would like to thank all contributors, researchers, and supporters who have helped make Trinity possible. Special thanks to <a href="https://github.com/RiverRuby">Vivek</a> and the <a href="https://github.com/cursive-team">Cursive team</a> for originally designing the scheme, the research team behind the <a href="https://github.com/rot256/research-we-kzg">Laconic OT paper and their implementation</a>. Thanks <a href="https://github.com/nakkstar123">Nakul</a> and <a href="https://github.com/brech1">brech1</a> for their help in integrating secure garbling and Halo2 LOT. Additionally, we extend our gratitude to the authors of the <a href="https://github.com/privacy-scaling-explorations/mpz">mpz</a> library and the <a href="https://github.com/privacy-scaling-explorations/halo2">PSE Halo2</a> team for their foundational work and inspiration.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->

                            <a rel="next prefetch" href="laconic_ot.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

                    <a rel="next prefetch" href="laconic_ot.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->



    </div>
    </body>
</html>
